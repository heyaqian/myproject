<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/public.css"> 
</head>
<body>
  <!-- <div class="lc"> -->
    <ul class="lc">
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
    </ul>
    <div class="backT">置顶</div>
  <!-- </div> -->
    <div class="top">

    </div>
    <script src="libs/jquery.js"></script>
    <script type="text/javascript">
        $(function(){
            $(".top").load("http://localhost:81/pub/pub.html .top" )

            $(".footer").load("http://localhost:81/pub/pub.html .footer" );
        });
    </script>
    <section>
        <div class="margin clear banner box">
            <div class="menu">
                <ul>
                    <li><span>小说</span><i></i><div></div></li>
                    <li><span>杂志</span><i></i><div></div></li>
                    <li><span>绘本</span><i></i><div></div></li>
                    <li><span>周边</span><i></i><div></div></li>
                    <li><span>漫画</span><i></i><div></div></li>
                </ul>
            </div>            
            <div class="imgbox">
                <img src="images/O1CN01bIOc8E2AzzwRNk6TO_!!1739428275.jpg">
                <img src="images/O1CN01q3qwpr297D0KN8zTa_!!3032658020.jpg">
                <img src="images/O1CN01RR5Gb2297D06qPHDf_!!3032658020.jpg">
                <img src="images/TB2N5ZfdmfD8KJjSszhXXbIJFXa_!!3032658020.jpg">               
            </div>
            <div class="btns">
                <input type="button" value="" id="left"/>
                <input type="button" value="" id="right"/>
            </div>
        </div>                   
    </section>
    <div class="banner-b">
            <div class="margin clear .bt">
        <div class="fl">
            <ul>
                <li> <div></div> </li>
                <li> <div></div> </li>
                <li> <div></div> </li>
                <li> <div></div> </li>
                <li> <div></div> </li>
                <li> <div></div> </li>               
            </ul>
        </div>
        <div class="fr">           

        </div>
    </div>
    <div id="daily">
        <div class="margin clear daily">
           <p><img src="images/everyday.png" alt=""></p>
           <div class="lr">
               <img src="images/new_prev.png" alt="">
               <img src="images/new_next.png" alt="">
           </div>
        </div>
    </div>
        <div id="daily-b">
            <div class="margin clear daily-b">
              
            </div>
        </div>
        <main>
            <div class="margin clear main">
                <div class="main-novel">
                    <p><img src="images/novel.png" alt=""></p>
                    <div class="lr">
                        <img src="images/more_yellow.png" class="more" alt="">
                        <img src="images/new_next.png" alt="">
                    </div>
                </div>
                <div class="main-novel-p">
                    <div class="novel-p-l">
                        <img src="images/1543304615099092093.jpg" alt="">
                    </div>
                    <div class="novel-p-r">
                        <div class="novel-r-t">
    
                        </div>
                        <div class="novel-r-b">
                          
                        </div>             
                        </div>
                    </div>
                </div>
                <div class="main-magazine   margin">
                        <p><img src="images/magazine.png" alt=""></p>
                        <div class="lr">
                         
                        </div>
                </div>
                    <div class="main-magazine-p   margin">
                        <div class="novel-p-l">
                            <img src="images/1550564293201665977.jpg" alt="">
                            <img src="images/1543476139490530174.jpg" class="img-b" alt="">
                        </div>
                        <div class="novel-p-r">
                            <div class="novel-r-t">
                          
                            </div>
                            <div class="novel-r-b">
                              
                            </div>             
                        </div>
                    </div>
                </div>
            </div>           
        </main>
    <footer class="footer">
      
    </footer>
 
</body>
 <script src="libs/jquery.js"></script>
<script src="js/ajax.js"></script>
<script src="js/jquery.banner.js"></script>
<!-- <script src="js/index.js"></script> -->
<script>
    class list{
    constructor(){
        this.fr=document.querySelector(".fr");
        this.daily=document.querySelector(".daily-b");
        this.story=document.querySelector(".daily-b");
        this.novelrt=document.querySelector(".novel-r-t");
        this.novelrb=document.querySelector(".novel-r-b");
        this.magazinet=document.querySelector(".main-magazine-p .novel-p-r .novel-r-t");
        this.magazineb=document.querySelector(".main-magazine-p .novel-p-r .novel-r-b");
        // console.log(this.cont);   
        this.url="http://localhost:81/data/nav.json";           
        this.urld="http://localhost:81/data/daily.json";           
        this.urls="http://localhost:81/data/story.json";
        this.urlm="http://localhost:81/data/magezine.json";
        this.load();
        this.loadd();
        this.loads();
        this.loadm();
    }
    load(){
        var that=this;
        ajaxGet(this.url,function(res){
            // console.log(JSON.parse(res));
            that.res=JSON.parse(res);
            that.display();
        })
    }
    loadd(){
        var that=this;
        ajaxGet(this.urld,function(res){
           
            that.res=JSON.parse(res);
            that.displayd();
        })
    }
    loads(){
        var that=this;
        ajaxGet(this.urls,function(res){

            that.res=JSON.parse(res);
            that.displays();
        })
    }
    loadm(){
        var that=this;
        ajaxGet(this.urlm,function(res){
            console.log(JSON.parse(res));
            that.res=JSON.parse(res);
            that.displaym();
        })
    }
     display(){
        //查看数      
        var str="";      
        for(var i=0;i<this.res.length;i++){
            // goodsId点击按钮定位商品         
                str+=`<a href="" target="_blank"><img src="${this.res[i].url}" width="317" height="171" ></a>`;                                
        }
        // 将数据插入页面中cont,innerHTML可以渲染页面
        this.fr.innerHTML=str;
    }
     displaym(){
        //查看数      
        var str="";  
        var str2="";    
        for(var i=0;i<4;i++){
            // goodsId点击按钮定位商品         
                str+=`<div class="box">
                        <img src="${this.res[i].url}" alt="">
                        <p class="name">${this.res[i].name}</p>
                        <p class="price">${this.res[i].price}</p>
                    </div>`;                                
        }
        for(var i=4;i<this.res.length-1;i++){
            str2+=`<div class="box">
                <img src="${this.res[i].url}" alt="">
                <p class="name">${this.res[i].name}</p>
                <p class="price">${this.res[i].price}</p>
            </div>`;           
        }
        for(var i=this.res.length-1;i<this.res.length;i++){
            str2+=`<div class="box-last">
                    <div class="t">
                        <div class="l">
                            <p class="name-l">${this.res[i].name}</p>
                            <p class="price-l">${this.res[i].price}</p>
                        </div>
                        <div class="r"><img src="${this.res[i].url}" alt=""></div>
                    </div>
                    <div class="b">
                        <img src="images/more_white.png" alt="" class="more">
                        <img src="images/back.png" alt="" class="back">
                    </div>`
        }
        // 将数据插入页面中cont,innerHTML可以渲染页面
        this.magazinet.innerHTML=str;
        this.magazineb.innerHTML=str2;
    }
     displayd(){
        //查看数据
        console.log(this.res);
        console.log(this.res[1].url);       
        var str="";
       
        for(var i=0;i<this.res.length;i++){
            // goodsId点击按钮定位商品
        str+=`<div>
                    <img src="${this.res[i].url}" alt="">
                    <p class="name">${this.res[i].name}</p>
                    <p class="price">${this.res[i].price}</p>
                </div>`;           
        }
       
        // 将数据插入页面中cont,innerHTML可以渲染页面
        this.daily.innerHTML=str;
    }
     displays(){
        //查看数据
        console.log(this.res);
        console.log(this.res[1].url);       
        var str="";
        var str2="";
        for(var i=0;i<4;i++){
            // goodsId点击按钮定位商品
        str+=`<div class="box">
                <img src="${this.res[i].url}" alt="">
                <p class="name">${this.res[i].name}</p>
                <p class="price">${this.res[i].price}</p>
            </div>             `;           
        }
        for(var i=4;i<this.res.length-1;i++){
            str2+=`<div class="box">
                <img src="${this.res[i].url}" alt="">
                <p class="name">${this.res[i].name}</p>
                <p class="price">${this.res[i].price}</p>
            </div>`;           
        }
        for(var i=this.res.length-1;i<this.res.length;i++){
            str2+=`<div class="box-last">
                    <div class="t">
                        <div class="l">
                            <p class="name-l">${this.res[i].name}</p>
                            <p class="price-l">${this.res[i].price}</p>
                        </div>
                        <div class="r"><img src="${this.res[i].url}" alt=""></div>
                    </div>
                    <div class="b">
                        <img src="images/more_white.png" alt="" class="more">
                        <img src="images/back.png" alt="" class="back">
                    </div>`
        }
        // 将数据插入页面中cont,innerHTML可以渲染页面
        this.novelrt.innerHTML=str;
        this.novelrb.innerHTML=str2;
    }

}
    new list;

    $(".menu").find("li").mouseover(function(){
        // console.log($(".menu"));     
			$(this)
			.children("div")
			.stop()
            .show(300)
			.parent()
			.siblings()
			.children("div")
			.stop()
            .hide(300)
		}).mouseleave(function(){       
            $(this)
			.children("div")
			.stop()
            .hide(300)
        })

        $(".lc li").click(function(){
			var i = $(this).index();
			$("html").animate({
				scrollTop:$(window).height()*(i+1)
			})
		})

        $(".backT").click(function(){
            var ch=$(document.body).height()
            // console.log(1);          
			$("html").animate({
				scrollTop:-document.body.clientHeight
				// scrollTop:
			})
		})

	$(".banner").banner({
			items:$(".banner").find("img"),
			left:$(".banner").find("#left"),
			right:$(".banner").find("#right"),
			list:true,
			index:1,
			autoPlay:true,
			delayTime:3000,
			moveTime:3000
        })
        $(".box").on("mouseenter", function() {
            $("#left").css({
                left:120,
                width:0,
            }).stop().animate({
                left:120,
                width:30,
            }).siblings("#right").css({
               right:0,
               width:0
            }).stop().animate({
                right:0,
                width:30
            }) 
       }).on("mouseleave",function(){
                $("#left").css({
                left:120,
                width:30,
            }).stop().animate({
                left:120,
                width:0,
            },1000).siblings("#right").css({
               right:0,
               width:30
            }).stop().animate({
                right:0,
                width:0
            })
         }) 
    
window.onload=function(){
    // console.log( $("#search").length);
    console.log( $("#search"));
    // $("#search").css('color','red');
    $("#search").click(function(){
        console.log(1);
        // $(location).attr("href","list.html");
        window.location.href = "list.html";
        // window.location.reload(); 
    });   
}
 
    window.onload=function(){
        console.log($(".streg")); 
        $(".streg").mouseenter(function(){
            console.log(1);   
    });   
}

</script>
</html>